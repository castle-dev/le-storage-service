language: node_js
before_install:
- npm install -g gulp mocha
- npm install
- npm test
install:
- git config --global user.email "travis-ci@entercastle.com"
- git config --global user.name "Travis Castle"
script:
- gulp docs
- cd docs
- git init
- git remote add origin "https://${GH_TOKEN}@github.com/castle-dev/le-storage-service.git"
- git checkout -B gh-pages
- git add .
- git commit -m "Updating documentation"
- git push origin gh-pages -fq > /dev/null
env:
  global:
    - secure: mUXdkL/tp2b9Yx78TL5/abmQ7PgiOG4BgOKDifhu0K0rY0UBgD5Jl0eTX3aFxUfRLpgA3/H07D7LBPE3ArsWu6H1ad166SfAMoLvqxaywShoW2cguf+A9BhO7wzwcHJ/Ocboz+kPeIaHKwvFCSbatQHyD2CdAkUdCS+83uiGE9U=
    - FIREBASE_URL=https://le-firebase-test.firebaseio.com/